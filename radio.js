function addEventListener_multi(s,i,e){i.split(" ").forEach(i=>s.addEventListener(i,e,!1))}function getRandom(i,s){return i=Math.ceil(i),s=Math.floor(s),Math.floor(Math.random()*(s-i+1))+i}function getRelativePos(i){var s=i.parentNode.getBoundingClientRect(),e=i.getBoundingClientRect(),p={};return p.top=e.top-s.top+i.parentNode.scrollTop,p.right=e.right-s.right,p.bottom=e.bottom-s.bottom,p.left=e.left-s.left,p}function formatTime(i){var s,e=0,p=0;return 3600<(i=parseInt(i,10))&&(i-=60*(e=parseInt(i/3600,10))*60),60<i&&(i-=60*(p=parseInt(i/60,10))),s=i,i=0<e?e+":":"",i+=0<p?(p<10&&0<e?"0":"")+p+":":"0:",i+=(s<10?"0":"")+s}function simp_initTime(){simp_controls.querySelector(".start-time").innerHTML=formatTime(simp_audio.currentTime),simp_isStream||(simp_controls.querySelector(".end-time").innerHTML=formatTime(simp_audio.duration),simp_progress.value=simp_audio.currentTime/simp_audio.duration*100),simp_audio.currentTime==simp_audio.duration&&(simp_controls.querySelector(".simp-plause").classList.remove("fa-pause"),simp_controls.querySelector(".simp-plause").classList.add("fa-play"),simp_audio.removeEventListener("timeupdate",simp_initTime),simp_isNext?(simp_changeAudio(++simp_a_index==simp_a_url.length?simp_a_url[simp_a_index=0]:simp_a_url[simp_a_index]),simp_setAlbum(simp_a_index)):simp_isPlaying=!1)}function simp_initAudio(){simp_isLoaded=4==simp_audio.readyState,simp_isStream="Infinity"==simp_audio.duration,simp_controls.querySelector(".simp-plause").disabled=!1,simp_progress.disabled=!!simp_isStream,simp_isStream||(simp_progress.parentNode.classList.remove("simp-load","simp-loading"),simp_controls.querySelector(".end-time").innerHTML=formatTime(simp_audio.duration)),simp_audio.addEventListener("timeupdate",simp_initTime),simp_isLoaded&&simp_isPlaying&&simp_audio.play(),addEventListener_multi(simp_progress,"touchstart mousedown",function(i){return simp_isStream?(i.stopPropagation(),!1):void(4==simp_audio.readyState&&(simp_audio.removeEventListener("timeupdate",simp_initTime),simp_audio.pause()))}),addEventListener_multi(simp_progress,"touchend mouseup",function(i){return simp_isStream?(i.stopPropagation(),!1):void(4==simp_audio.readyState&&(simp_audio.currentTime=simp_progress.value*simp_audio.duration/100,simp_audio.addEventListener("timeupdate",simp_initTime),simp_isPlaying&&simp_audio.play()))})}function simp_loadAudio(i){simp_progress.parentNode.classList.add("simp-loading"),simp_controls.querySelector(".simp-plause").disabled=!0,simp_audio.querySelector("source").src=i.dataset.src,simp_audio.load(),simp_audio.volume=parseFloat(simp_v_num/100),simp_audio.addEventListener("canplaythrough",simp_initAudio),simp_audio.addEventListener("error",function(){alert("Please reload the page.")})}function simp_setAlbum(i){simp_cover.innerHTML=simp_a_url[i].dataset.cover?'<div style="background:url('+simp_a_url[i].dataset.cover+') no-repeat;background-size:cover;width:80px;height:80px;"></div>':'<i class="fa fa-music fa-5x"></i>',simp_title.innerHTML=simp_source[i].querySelector(".simp-source").innerHTML,simp_artist.innerHTML=simp_source[i].querySelector(".simp-desc")?simp_source[i].querySelector(".simp-desc").innerHTML:""}function simp_changeAudio(i){simp_isLoaded=!1,simp_controls.querySelector(".simp-prev").disabled=0==simp_a_index,simp_controls.querySelector(".simp-plause").disabled=!!simp_auto_load,simp_controls.querySelector(".simp-next").disabled=simp_a_index==simp_a_url.length-1,simp_progress.parentNode.classList.add("simp-load"),simp_progress.disabled=!0,simp_progress.value=0,simp_controls.querySelector(".start-time").innerHTML="00:00",simp_controls.querySelector(".end-time").innerHTML="00:00",i=simp_isRandom&&simp_isNext?simp_a_url[getRandom(0,simp_a_url.length-1)]:i;for(var s=0;s<simp_a_url.length;s++)simp_a_url[s].parentNode.classList.remove("simp-active"),simp_a_url[s]==i&&simp_a_url[simp_a_index=s].parentNode.classList.add("simp-active");var e=getRelativePos(simp_source[simp_a_index]);simp_source[simp_a_index].parentNode.scrollTop=e.top,(simp_auto_load||simp_isPlaying)&&simp_loadAudio(i),simp_isPlaying&&(simp_controls.querySelector(".simp-plause").classList.remove("fa-play"),simp_controls.querySelector(".simp-plause").classList.add("fa-pause"))}function simp_startScript(){ap_simp=document.querySelector("#simp"),simp_audio=ap_simp.querySelector("#audio"),simp_album=ap_simp.querySelector(".simp-album"),simp_cover=simp_album.querySelector(".simp-cover"),simp_title=simp_album.querySelector(".simp-title"),simp_artist=simp_album.querySelector(".simp-artist"),simp_controls=ap_simp.querySelector(".simp-controls"),simp_progress=simp_controls.querySelector(".simp-progress"),simp_volume=simp_controls.querySelector(".simp-volume"),simp_v_slider=simp_volume.querySelector(".simp-v-slider"),simp_v_num=simp_v_slider.value,simp_others=simp_controls.querySelector(".simp-others"),simp_auto_load=simp_config.auto_load,simp_config.shide_top&&simp_album.parentNode.classList.toggle("simp-hide"),simp_config.shide_btm&&(simp_playlist.classList.add("simp-display"),simp_playlist.classList.toggle("simp-hide")),simp_a_url.length<=1&&(simp_controls.querySelector(".simp-prev").style.display="none",simp_controls.querySelector(".simp-next").style.display="none",simp_others.querySelector(".simp-plext").style.display="none",simp_others.querySelector(".simp-random").style.display="none"),simp_source.forEach(function(i,s){i.classList.contains("simp-active")&&(simp_a_index=s),i.addEventListener("click",function(){simp_audio.removeEventListener("timeupdate",simp_initTime),simp_a_index=s,simp_changeAudio(this.querySelector(".simp-source")),simp_setAlbum(simp_a_index)})}),simp_changeAudio(simp_a_url[simp_a_index]),simp_setAlbum(simp_a_index),simp_controls.querySelector(".simp-plauseward").addEventListener("click",function(i){var s=i.target.classList;s.contains("simp-plause")?simp_audio.paused?(simp_isLoaded||simp_loadAudio(simp_a_url[simp_a_index]),simp_audio.play(),simp_isPlaying=!0,s.remove("fa-play"),s.add("fa-pause")):(simp_audio.pause(),simp_isPlaying=!1,s.remove("fa-pause"),s.add("fa-play")):(s.contains("simp-prev")&&0!=simp_a_index?(--simp_a_index,i.target.disabled=0==simp_a_index):s.contains("simp-next")&&simp_a_index!=simp_a_url.length-1&&(simp_a_index+=1,i.target.disabled=simp_a_index==simp_a_url.length-1),simp_audio.removeEventListener("timeupdate",simp_initTime),simp_changeAudio(simp_a_url[simp_a_index]),simp_setAlbum(simp_a_index))}),simp_volume.addEventListener("click",function(i){i=i.target.classList;i.contains("simp-mute")?i.contains("fa-volume-up")?(i.remove("fa-volume-up"),i.add("fa-volume-off"),simp_v_slider.value=0):(i.remove("fa-volume-off"),i.add("fa-volume-up"),simp_v_slider.value=simp_v_num):0!=(simp_v_num=simp_v_slider.value)&&(simp_controls.querySelector(".simp-mute").classList.remove("fa-volume-off"),simp_controls.querySelector(".simp-mute").classList.add("fa-volume-up")),simp_audio.volume=parseFloat(simp_v_slider.value/100)}),simp_others.addEventListener("click",function(i){i=i.target.classList;i.contains("simp-plext")?(simp_isNext=!(simp_isNext&&!simp_isRandom),simp_isRandom||(simp_isRanext=!simp_isRanext),i.contains("simp-active")&&!simp_isRandom?i.remove("simp-active"):i.add("simp-active")):i.contains("simp-random")?(simp_isRandom=!simp_isRandom,simp_isNext&&!simp_isRanext?(simp_isNext=!1,simp_others.querySelector(".simp-plext").classList.remove("simp-active")):(simp_isNext=!0,simp_others.querySelector(".simp-plext").classList.add("simp-active")),i.contains("simp-active")?i.remove("simp-active"):i.add("simp-active")):i.contains("simp-shide-top")?simp_album.parentNode.classList.toggle("simp-hide"):i.contains("simp-shide-bottom")&&(simp_playlist.classList.add("simp-display"),simp_playlist.classList.toggle("simp-hide"))})}var simp_auto_load,simp_audio,simp_album,simp_cover,simp_title,simp_artist,simp_controls,simp_progress,simp_volume,simp_v_slider,simp_v_num,simp_others,ap_simp,simp_playlist,simp_source,simp_a_url,simp_a_index,simp_isPlaying,simp_isNext,simp_isRandom,simp_isRanext,simp_isStream,simp_isLoaded,simp_config,simp_elem,simp_player;document.querySelector("#simp")&&(ap_simp=document.querySelector("#simp"),simp_playlist=ap_simp.querySelector(".simp-playlist"),simp_source=simp_playlist.querySelectorAll("li"),simp_a_url=simp_playlist.querySelectorAll("[data-src]"),simp_a_index=0,simp_isLoaded=simp_isStream=simp_isRanext=simp_isRandom=simp_isNext=simp_isPlaying=!1,simp_config=ap_simp.dataset.config?JSON.parse(ap_simp.dataset.config):{shide_top:!1,shide_btm:!1,auto_load:!1},simp_elem="",simp_elem+='<audio id="audio" preload><source src="" type="audio/mpeg"></audio>',simp_elem+='<div class="simp-display"><div class="simp-album w-full flex-wrap"><div class="simp-cover"><i class="fa fa-music fa-5x"></i></div><div class="simp-info"><div class="simp-title">Title</div><div class="simp-artist">Artist</div></div></div></div>',simp_elem+='<div class="simp-controls flex-wrap flex-align">',simp_elem+='<div class="simp-plauseward flex flex-align"><button type="button" class="simp-prev fa fa-backward" disabled></button><button type="button" class="simp-plause fa fa-play" disabled></button><button type="button" class="simp-next fa fa-forward" disabled></button></div>',simp_elem+='<div class="simp-tracker simp-load"><input class="simp-progress" type="range" min="0" max="100" value="0" disabled/><div class="simp-buffer"></div></div>',simp_elem+='<div class="simp-time flex flex-align"><span class="start-time">00:00</span><span class="simp-slash"> / </span><span class="end-time">00:00</span></div>',simp_elem+='<div class="simp-volume flex flex-align"><button type="button" class="simp-mute fa fa-volume-up"></button><input class="simp-v-slider" type="range" min="0" max="100" value="100"/></div>',simp_elem+='<div class="simp-others flex flex-align"><button type="button" class="simp-plext fa fa-play-circle" title="Auto Play"></button><button type="button" class="simp-random fa fa-random" title="Random"></button><div class="simp-shide"><button type="button" class="simp-shide-top fa fa-caret-up" title="Show/Hide Album"></button><button type="button" class="simp-shide-bottom fa fa-caret-down" title="Show/Hide Playlist"></button></div></div>',simp_elem+="</div>",(simp_player=document.createElement("div")).classList.add("simp-player"),simp_player.innerHTML=simp_elem,ap_simp.insertBefore(simp_player,simp_playlist),simp_startScript());